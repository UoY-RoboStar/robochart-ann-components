include "defs/ann_def.csp"
module Test
exports
	transparent diamond
	transparent sbisim

	channel anewError:InOut.core_real
	channel adiff:InOut.core_real
	channel angleOutputE:InOut.core_real

	--With anewError.out instead of in, it DEADLOCKS, it is using this process succesfully.
	--temporary input accepts anything, converts to 
	ANNSemantics = ANN::Full
	[[ANN::TEMPORARY_INPUT.1.y <- anewError.in.y,
	  ANN::TEMPORARY_INPUT.2.y <- adiff.in.y, ANN::final_out.1.z <- angleOutputE.out.z | y <- core_real, z <- {0,1}]] \ {|ANN::input|}; ANNSemantics
endmodule

ANNSemantics = sbisim(diamond(Test::ANNSemantics))